<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>500 Punk/Hardcore albums you need to listen… | TicketDrop</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{
      background:url('./assets/background.png') no-repeat center center fixed;
      background-size:cover;
    }
    .card{ border-radius:1rem; background:black; color:white; box-shadow:0 12px 30px rgba(0,0,0,.7); }
    .btn-main{ @apply px-5 py-3 rounded-xl font-bold transition; }
    .btn-white{ @apply btn-main bg-white text-black hover:bg-white/90; }
    .btn-dark{ @apply btn-main bg-black border border-white text-white hover:bg-white hover:text-black; }
  </style>
</head>
<body class="text-white">
  <!-- HERO -->
  <header class="min-h-[80vh] flex items-center bg-black/60">
    <main class="max-w-5xl mx-auto px-6 py-10">
      <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight">
        500 Punk/Hardcore albums you need to listen…
      </h1>

      <p class="mt-6 text-lg md:text-xl leading-relaxed">
        Feeling like a poser sometimes? You show up at shows, but half the time you have no clue
        what’s on everyone else’s T-shirt. You nod along when someone says
        <em>“oh, that record is legendary”</em>, but secretly you’ve never even heard it.
        You can’t name three Negative Approach songs without peeking at Discogs.
        And when someone drops <em>Siege</em> or <em>Totalitär</em> in conversation,
        you just change the subject.
      </p>

      <div class="mt-8 flex flex-wrap gap-3">
        <a href="#start" class="btn-white">Start your journey</a>
        <a href="#how" class="btn-dark">How it works</a>
      </div>
    </main>
  </header>

  <!-- HOW IT WORKS -->
  <section id="how" class="py-12">
    <div class="max-w-5xl mx-auto px-6">
      <h2 class="text-2xl md:text-3xl font-bold mb-6">How it works</h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="card p-6">
          <div class="text-sm uppercase tracking-widest text-slate-300 mb-2">1 — Start</div>
          <p>Create your session and get a personal link. It’s your own route through the 500.</p>
        </div>
        <div class="card p-6">
          <div class="text-sm uppercase tracking-widest text-slate-300 mb-2">2 — Weekdays only</div>
          <p>Every Mon–Fri at midnight (Europe/Budapest) you get one album with a short blurb, cover, and Spotify / YouTube Music links.</p>
        </div>
        <div class="card p-6">
          <div class="text-sm uppercase tracking-widest text-slate-300 mb-2">3 — Progress</div>
          <p>Mark it as listened. Didn’t listen? It moves to the end of your queue. Finish all 500 like a champ.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- PREVIEW / MOCK CARDS -->
  <section id="start" class="py-14">
    <div class="max-w-5xl mx-auto px-6">
      <div class="grid md:grid-cols-[1fr,1.2fr] gap-8 items-start">
        <!-- MINOR THREAT PREVIEW -->
        <div class="card p-6">
          <div class="text-xs uppercase tracking-widest text-slate-400 mb-2">Preview</div>
          <div class="flex gap-4 items-start">
            <div class="w-[120px] h-[120px] bg-slate-800 flex items-center justify-center text-[10px] uppercase tracking-wide"
                 data-cover-mt>Cover</div>
            <div class="flex-1">
              <h3 class="text-2xl font-bold">Minor Threat — Out of Step (1983)</h3>
              <p class="mt-3 text-slate-200">
                A DC staple that defined straight-edge hardcore’s velocity and stance — fast, sharp,
                and surprisingly melodic. From the opening burst to the title track, it’s a short
                masterclass in urgency.
              </p>
              <div class="mt-4 flex flex-wrap gap-3">
                <a class="btn-white" href="#" onclick="alert('Demo only — real session coming soon'); return false;">Start your journey</a>
                <a id="demoSpotify" class="btn-dark" target="_blank" rel="noopener">Open on Spotify</a>
                <a id="demoYt" class="btn-dark" target="_blank" rel="noopener">Open on YT Music</a>
              </div>
            </div>
          </div>
        </div>

        <!-- DISCHARGE MOCK -->
        <div class="card overflow-hidden">
          <div class="grid grid-cols-[120px,1fr] gap-5 p-6">
            <div class="w-[120px] h-[120px] bg-slate-800 flex items-center justify-center text-xs uppercase tracking-wide"
                 data-cover-dc>Cover</div>
            <div>
              <div class="text-xs uppercase tracking-wider text-slate-400">Daily album (mock)</div>
              <h4 class="text-xl font-bold mt-1">Discharge — Hear Nothing See Nothing Say Nothing (1982)</h4>
              <p class="mt-2 text-slate-200 text-sm">
                D-beat blueprint: raw, relentless, and political. The sound that launched a thousand crust bands.
              </p>
              <div class="mt-3 flex flex-wrap gap-2">
                <button class="btn-white text-sm">I listened to it</button>
                <button class="btn-dark text-sm">Skip today</button>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="mt-10 text-center">
        <a class="btn-white"
           href="#" onclick="alert('Demo only — sessions coming next.'); return false;">
          Start your journey now
        </a>
      </div>
    </div>
  </section>

  <footer class="py-10 text-center text-slate-200 text-sm bg-black/70">
    <div class="max-w-5xl mx-auto px-6">
      <p>© <span id="y"></span> TicketDrop · A tiny project for punk & hardcore nerds.</p>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    async function loadCover({ artist, album, boxSelector, spotifyId, ytId }) {
      try {
        const r = await fetch(`/api/album-meta?artist=${encodeURIComponent(artist)}&album=${encodeURIComponent(album)}`);
        const data = await r.json();
        const box = document.querySelector(boxSelector);
        if (box && data.coverUrl) {
          box.style.backgroundImage = `url('${data.coverUrl}')`;
          box.style.backgroundSize = 'cover';
          box.style.backgroundPosition = 'center';
          box.textContent = '';
        }
        if (spotifyId && data.links?.spotifySearchUrl) {
          const el = document.getElementById(spotifyId);
          if (el) el.href = data.links.spotifySearchUrl;
        }
        if (ytId && data.links?.ytMusicSearchUrl) {
          const el = document.getElementById(ytId);
          if (el) el.href = data.links.ytMusicSearchUrl;
        }
      } catch (e) {
        console.error("album-meta error:", e);
      }
    }

    loadCover({
      artist: "Minor Threat",
      album:  "Out of Step",
      boxSelector: "[data-cover-mt]",
      spotifyId: "demoSpotify",
      ytId: "demoYt"
    });

    loadCover({
      artist: "Discharge",
      album:  "Hear Nothing See Nothing Say Nothing",
      boxSelector: "[data-cover-dc]"
    });
  </script>
</body>
</html>
